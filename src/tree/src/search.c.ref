#include "../tree.h"
#include "../../included/stack/stack.h"

void Tsearch (TreeRoot* root, void (*action)(TreeNode*))
{
    StackHandler stack = stackInit (root->size + 1, sizeof (TreeNode));

    for (TreeNode* top = root->root; top || stackLen (stack) > 0;)
    {
        if (stackLen (stack) > 0) stackPop (stack, &top);

        while (top)
        {
            action (top);
            if (top->right) stackPush (stack, &top->right);
            top = top->left;
        }
    }
}